@media not (prefers-contrast)
{
    .titlebar-buttonbox-container
    {
        align-items: flex-start !important;
    }

    .titlebar-button:not(.titlebar-close):hover
    {
        background-color: var(--toolbarbutton-hover-background) !important;
    }

    .titlebar-button:not(.titlebar-close):hover:active
    {
        background-color: var(--toolbarbutton-active-background) !important;
    }
}

@media (-moz-bool-pref: "userChrome.Menu.Icons.Regular.Enabled") or
       (-moz-bool-pref: "userChrome.Menu.Icons.Filled.Enabled")
{
    :root
    {
        --align-menu-icons: -2px 6px;
    }
}

menupopup[needsgutter] menu:not([icon], .menu-iconic),
menupopup[needsgutter] menuitem:not([checked="true"], [icon], .menuitem-iconic)
{
    padding-inline-start: 1em !important;
}

@media (-moz-bool-pref: "browser.theme.windows.accent-color-in-tabs.enabled")
{
    @media (-moz-windows-accent-color-in-titlebar)
    {
        @media (-moz-bool-pref: "userChrome.OneLine.TabBarFirst.Enabled") or
               (-moz-bool-pref: "userChrome.OneLine.NavBarFirst.Enabled")
        {
            @media (-moz-bool-pref: "userChrome.Tabs.Option6.Enabled")  or
                   (-moz-bool-pref: "userChrome.Tabs.Option7.Enabled")  or
                   (-moz-bool-pref: "userChrome.Tabs.Option8.Enabled")  or
                   (-moz-bool-pref: "userChrome.Tabs.Option9.Enabled")  or
                   (-moz-bool-pref: "userChrome.Tabs.Option10.Enabled") or
                   (-moz-bool-pref: "userChrome.Tabs.Option11.Enabled") or
                   (-moz-bool-pref: "userChrome.Tabs.Option12.Enabled") or
                   (-moz-bool-pref: "userChrome.Tabs.Option13.Enabled")
            {
                :root[tabsintitlebar]:not([lwtheme]) #nav-bar
                {
                    --toolbarbutton-hover-background: color-mix(in srgb, currentColor 17%, transparent) !important;
                    --toolbarbutton-active-background: color-mix(in srgb, currentColor 30%, transparent) !important;
                    --toolbarbutton-icon-fill: currentColor !important;
                    color: inherit !important;
                }
            }
        }
    }
}
